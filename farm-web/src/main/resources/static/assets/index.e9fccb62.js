import{s as b}from"./index.912389eb.js";import{r as V,p as B,a as d,o as q,c as $,b as e,w as a,d as h,e as n,F as D,i as c,z as F,E as w,j as I}from"./index.9339062c.js";import{b as g}from"./route-block.b5bad31b.js";const M=["src"],T=c("\u7F16\u8F91"),Y=c("\u5220\u9664"),j={class:"dialog-footer"},L=c("\u53D6\u6D88"),z=c("\u786E\u5B9A"),A={setup(O){const k=V([]),p=V(!1),u="100px";let o=B({id:"",produceName:"",greenhouseId:"",nurtureWorker:"",productWorker:"",qualityWorker:"",transportWorker:""});function _(){b.get("/trace/findAll").then(i=>{k.value=i})}function W(i,t){p.value=!0,Object.keys(o).forEach(r=>{o[r]=t[r]})}function v(i,t){F.confirm("\u786E\u8BA4\u5220\u9664\uFF1F",{confirmButtonText:"\u5220\u9664",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{b.del("/trace/"+t.id).then(r=>{_(),w({type:"success",message:"\u5220\u9664\u6210\u529F"})})})}function x(){b.put("/trace/update",o).then(i=>{w({type:"success",message:"\u7F16\u8F91\u6210\u529F"}),p.value=!1,_()})}function y(i,t,r,f){return I(r).format("YYYY-MM-DD")}return _(),(i,t)=>{const r=d("el-table-column"),f=d("el-button"),C=d("el-table"),s=d("el-input"),m=d("el-form-item"),E=d("el-form"),N=d("el-dialog");return q(),$(D,null,[e(C,{data:k.value,stripe:"",style:{width:"100%"}},{default:a(()=>[e(r,{prop:"produceName",label:"\u540D\u79F0",width:"100"}),e(r,{prop:"greenhouseId",label:"\u5927\u68DAid",width:"100"}),e(r,{prop:"nurtureWorker",label:"\u57F9\u80B2\u5DE5\u4EBA",width:"100"}),e(r,{prop:"productWorker",label:"\u751F\u4EA7\u5DE5\u4EBA",width:"100"}),e(r,{prop:"qualityWorker",label:"\u8D28\u68C0\u5DE5\u4EBA",width:"100"}),e(r,{prop:"transportWorker",label:"\u8FD0\u8F93\u5DE5\u4EBA",width:"130"}),e(r,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",width:"180",formatter:y}),e(r,{label:"\u6EAF\u6E90\u4E8C\u7EF4\u7801",width:"100"},{default:a(l=>[h("img",{width:"50",height:"50",src:l.row.qrcode},null,8,M)]),_:1}),e(r,{label:"\u64CD\u4F5C"},{default:a(l=>[e(f,{onClick:U=>W(l.$index,l.row)},{default:a(()=>[T]),_:2},1032,["onClick"]),e(f,{type:"danger",onClick:U=>v(l.$index,l.row)},{default:a(()=>[Y]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(N,{modelValue:p.value,"onUpdate:modelValue":t[7]||(t[7]=l=>p.value=l),title:"\u519C\u4EA7\u54C1\u7F16\u8F91"},{footer:a(()=>[h("span",j,[e(f,{onClick:t[6]||(t[6]=l=>p.value=!1)},{default:a(()=>[L]),_:1}),e(f,{type:"primary",onClick:x},{default:a(()=>[z]),_:1})])]),default:a(()=>[e(E,{model:n(o)},{default:a(()=>[e(m,{label:"\u540D\u79F0","label-width":u},{default:a(()=>[e(s,{modelValue:n(o).produceName,"onUpdate:modelValue":t[0]||(t[0]=l=>n(o).produceName=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u5927\u68DAid","label-width":u},{default:a(()=>[e(s,{modelValue:n(o).greenhouseId,"onUpdate:modelValue":t[1]||(t[1]=l=>n(o).greenhouseId=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u57F9\u80B2\u5DE5\u4EBA","label-width":u},{default:a(()=>[e(s,{modelValue:n(o).nurtureWorker,"onUpdate:modelValue":t[2]||(t[2]=l=>n(o).nurtureWorker=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u751F\u4EA7\u5DE5\u4EBA","label-width":u},{default:a(()=>[e(s,{modelValue:n(o).productWorker,"onUpdate:modelValue":t[3]||(t[3]=l=>n(o).productWorker=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u8FD0\u8F93\u5DE5\u4EBA","label-width":u},{default:a(()=>[e(s,{modelValue:n(o).qualityWorker,"onUpdate:modelValue":t[4]||(t[4]=l=>n(o).qualityWorker=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u8D28\u68C0\u5DE5\u4EBA","label-width":u},{default:a(()=>[e(s,{modelValue:n(o).transportWorker,"onUpdate:modelValue":t[5]||(t[5]=l=>n(o).transportWorker=l),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}};typeof g=="function"&&g(A);export{A as default};
