import{n as f,p as g,a,o as h,c as w,b as t,w as l,e as s,d as V,i as b,E as x}from"./index.5512758f.js";import{s as m}from"./index.75aa442e.js";const v={class:"farm-login-tab"},y=V("p",{class:"farm-home-title"},"\u667A\u6167\u519C\u4E1A\u7CFB\u7EDF",-1),k=b("\u767B\u5F55"),B={setup(I){const p=f(),e=g({account:"",password:""});function d(){m.post("/oauth/login",e).then(n=>{localStorage.setItem("token",n),console.log(localStorage.getItem("token")),m.get("/user/info").then(o=>{localStorage.setItem("userInfo",JSON.stringify(o)),p.push("/farm-manage")})}).catch(n=>{e.account="",e.password="",x({type:"error",message:"\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF"})})}return(n,o)=>{const c=a("el-input"),u=a("el-form-item"),i=a("el-button"),_=a("el-form");return h(),w("div",v,[y,t(_,{class:"farm-login-form","label-position":"top","label-width":"450px",model:s(e)},{default:l(()=>[t(u,{label:"\u7528\u6237\u540D"},{default:l(()=>[t(c,{class:"einput",modelValue:s(e).account,"onUpdate:modelValue":o[0]||(o[0]=r=>s(e).account=r),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["modelValue"])]),_:1}),t(u,{label:"\u5BC6\u7801"},{default:l(()=>[t(c,{class:"einput",modelValue:s(e).password,"onUpdate:modelValue":o[1]||(o[1]=r=>s(e).password=r),"show-password":"",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),t(i,{class:"",type:"success",style:{width:"450px"},onClick:d},{default:l(()=>[k]),_:1})]),_:1},8,["model"])])}}};export{B as default};
