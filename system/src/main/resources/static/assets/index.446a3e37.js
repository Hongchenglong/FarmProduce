import{s as b}from"./index.76a7dd0f.js";import{g as V,h as U,r as d,o as B,c as $,a as e,w as a,b as q,d as n,F as D,e as c,x as F,E as h,i as I}from"./index.ef2c8b76.js";import{b as w}from"./route-block.89f12ae7.js";const M=c("\u7F16\u8F91"),T=c("\u5220\u9664"),Y={class:"dialog-footer"},j=c("\u53D6\u6D88"),L=c("\u786E\u5B9A"),A={setup(O){const k=V([]),p=V(!1),u="100px";let o=U({id:"",produceName:"",greenhouseId:"",nurtureWorker:"",productWorker:"",qualityWorker:"",transportWorker:""});function _(){b.get("/trace/findAll").then(s=>{k.value=s})}function W(s,l){p.value=!0,Object.keys(o).forEach(r=>{o[r]=l[r]})}function g(s,l){F.confirm("\u786E\u8BA4\u5220\u9664\uFF1F",{confirmButtonText:"\u5220\u9664",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{b.del("/trace/"+l.id).then(r=>{_(),h({type:"success",message:"\u5220\u9664\u6210\u529F"})})})}function x(){b.put("/trace/update",o).then(s=>{h({type:"success",message:"\u7F16\u8F91\u6210\u529F"}),p.value=!1,_()})}function v(s,l,r,f){return I(r).format("YYYY-MM-DD")}return _(),(s,l)=>{const r=d("el-table-column"),f=d("el-button"),y=d("el-table"),i=d("el-input"),m=d("el-form-item"),C=d("el-form"),E=d("el-dialog");return B(),$(D,null,[e(y,{data:k.value,stripe:"",style:{width:"100%"}},{default:a(()=>[e(r,{prop:"produceName",label:"\u540D\u79F0",width:"100"}),e(r,{prop:"greenhouseId",label:"\u5927\u68DAid",width:"100"}),e(r,{prop:"nurtureWorker",label:"\u57F9\u80B2\u5DE5\u4EBA",width:"130"}),e(r,{prop:"productWorker",label:"\u751F\u4EA7\u5DE5\u4EBA",width:"130"}),e(r,{prop:"qualityWorker",label:"\u8D28\u68C0\u5DE5\u4EBA",width:"130"}),e(r,{prop:"transportWorker",label:"\u8FD0\u8F93\u5DE5\u4EBA",width:"130"}),e(r,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",width:"180",formatter:v}),e(r,{label:"\u64CD\u4F5C"},{default:a(t=>[e(f,{onClick:N=>W(t.$index,t.row)},{default:a(()=>[M]),_:2},1032,["onClick"]),e(f,{type:"danger",onClick:N=>g(t.$index,t.row)},{default:a(()=>[T]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(E,{modelValue:p.value,"onUpdate:modelValue":l[7]||(l[7]=t=>p.value=t),title:"\u519C\u4EA7\u54C1\u7F16\u8F91"},{footer:a(()=>[q("span",Y,[e(f,{onClick:l[6]||(l[6]=t=>p.value=!1)},{default:a(()=>[j]),_:1}),e(f,{type:"primary",onClick:x},{default:a(()=>[L]),_:1})])]),default:a(()=>[e(C,{model:n(o)},{default:a(()=>[e(m,{label:"\u540D\u79F0","label-width":u},{default:a(()=>[e(i,{modelValue:n(o).produceName,"onUpdate:modelValue":l[0]||(l[0]=t=>n(o).produceName=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u5927\u68DAid","label-width":u},{default:a(()=>[e(i,{modelValue:n(o).greenhouseId,"onUpdate:modelValue":l[1]||(l[1]=t=>n(o).greenhouseId=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u57F9\u80B2\u5DE5\u4EBA","label-width":u},{default:a(()=>[e(i,{modelValue:n(o).nurtureWorker,"onUpdate:modelValue":l[2]||(l[2]=t=>n(o).nurtureWorker=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u751F\u4EA7\u5DE5\u4EBA","label-width":u},{default:a(()=>[e(i,{modelValue:n(o).productWorker,"onUpdate:modelValue":l[3]||(l[3]=t=>n(o).productWorker=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u8FD0\u8F93\u5DE5\u4EBA","label-width":u},{default:a(()=>[e(i,{modelValue:n(o).qualityWorker,"onUpdate:modelValue":l[4]||(l[4]=t=>n(o).qualityWorker=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u8D28\u68C0\u5DE5\u4EBA","label-width":u},{default:a(()=>[e(i,{modelValue:n(o).transportWorker,"onUpdate:modelValue":l[5]||(l[5]=t=>n(o).transportWorker=t),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}};typeof w=="function"&&w(A);export{A as default};
